{% extends 'base.html' %}

{% load staticfiles %}

{% block page_title %} Home {% endblock %}


{% block content %}
<div class="container-fluid main-search">
	<div class="main-search__container">
		<section class="listing-search">
			<form action="{% url 'search' %}" method="get" class="listing-search__form">
				{% csrf_token %}
				<div class="row">
					<div class="col-sm-3">
						<div class="input-group mb-3">
							<select class="custom-select" id="inputGroupSelect01" name="price">
                                <option selected>Price</option>
                                <option value="100">up to </option>
                                <option value="500">up to 500</option>
                                <option value="700">up to 700</option>
                            </select>
						</div>
					</div>
					<div class="col-sm-3">
						<div class="input-group mb-3">
							<select class="custom-select" id="inputGroupSelect02" name="bed">
                                <option selected>Bedrooms</option>
                                <option value="1">One</option>
                                <option value="2">Two</option>
                                <option value="3">Three</option>
                            </select>
						</div>
					</div>
					<div class="col-sm-3">
						<div class="input-group mb-3">
							<select class="custom-select" id="inputGroupSelect03" name="city">
                                <option selected>City</option>
                                <option value="London">London</option>                               
                            </select>
						</div>
					</div>
					<div class="col-sm-3">
						<button type="submit" class="butt btn btn-block">Search</button>
					</div>
				</div>
			</form>
		</section>
	</div>
</div>

<section class="main-photo">
	<div>
		<img src="{% static 'images/section-photo1.jpeg' %}" class="img-fluid photo">
	</div>
</section>

<section>

	<div class="container">

		<div class="row">


			{% for property in lists %}
			<div class="card-deck col-sm-12 col-md-6 col-lg-4 col-xl-4">

				<div class="card">

					<img src="/media/{{ property.photos }}" class="card-img-top" alt="Card image cap" />

					<div class="card-body col-sm-12 description">

						<div class="card-text">
							<p>{{ property.title }}</p>
							<p> Â£{{ property.price }} {% if property.rent %} pmc {% endif %}</p>
						</div>

						<div class="card-text">
							<p><i class="fa fa-road"> {{ property.address }}, {{ property.city }}, {{ property.postcode }}</i>
							</p>
						</div>


						<div class="card-text">
							<p>
								<i class="fa fa-bed"> {{ property.bedrooms }} Beds </i> &nbsp;
								<i class="fa fa-bath"> {{ property.bathrooms }} Baths </i> &nbsp;
								<i class="fa fa-tv"> {{ property.rooms }} Room </i>
							</p>
						</div>

					</div>

					<a href="{% url 'property_detail' property.id %}" class="btn butt">Details</a>
				</div>
			</div>
			{% endfor %}
		</div>
	</div>
</section>

<section>
	<div class="container">

		<div class="row">
			<div class="pagination">
				{% if lists.has_previous %}
				<a class="pagination-number" href="?page=1"> <i class="fa fa-angle-double-left"></i> </a>
				<a class="pagination-number" href="?page={{ lists.previous_page_number }}"> <i class="fa fa-angle-left"></i> </a>
				{% endif %}

				{% for num in lists.paginator.page_range %}

				{% if lists.number == num %}
				<span class="pagination-number pagination-current"> {{ num }} </span>

				{% elif num > lists.number|add:'-4' and num < lists.number|add:'4' %}

				<a class="pagination-number" href="?page={{ num }}">{{ num }}</a>
				{% endif %}
				{% endfor %}

				{% if lists.has_next %}
				<a class="pagination-number" href="?page={{ lists.next_page_number }}">
					<i class="fa fa-angle-right"></i> </a>
				<a class="pagination-number" href="?page={{ lists.paginator.num_pages }}">
					<i class="fa fa-angle-double-right"></i> </a>
				{% endif %}

			</div>
		</div>
	</div>
</section>
{% endblock %}