{% extends 'base.html' %}
{% block content %}

<div class="container">
	<div class="row">
		{% for property in listing %}
		<div class="card-deck col-sm-12 col-md-4 col-lg-4">
			<div class="card">

				<img src="{{ MEDIA_URL }}{{ property.photos }}" class="card-img-top" alt="Card image cap" />

				<div class="card-body col-sm-12 description">

					<div class="card-text">
						<p>{{ property.title }}</p>
						<p> Â£{{ property.price }} {% if property.rent %} pmc {% endif %}</p>

					</div>

					<div class="card-text">
						<p><i class="fa fa-road"> {{ property.address }}, {{ property.city }}, {{ property.postcode }}</i>
						</p>
					</div>


					<div class="card-text">
						<p>
							<i class="fa fa-bed"> {{ property.bedrooms }} Beds </i> &nbsp;
							<i class="fa fa-bath"> {{ property.bathrooms }} Baths </i> &nbsp;
							<i class="fa fa-tv"> {{ property.rooms }} Room </i>
						</p>
					</div>

				</div>
				<a href="{% url 'property_detail' property.id %}" class="btn butt">Details</a>
			</div>
		</div>
		{% endfor %}
	</div>
</div>


<section>
	<div class="container">

		<div class="row">
			<div class="pagination">
				{% if lists.has_previous %}
				<a class="pagination-number" href="?page=1"> <i class="fa fa-angle-double-left"></i> </a>
				<a class="pagination-number" href="?page={{ lists.previous_page_number }}"> <i class="fa fa-angle-left"></i> </a>
				{% endif %}

				{% for num in lists.paginator.page_range %}

				{% if lists.number == num %}
				<span class="pagination-number pagination-current"> {{ num }} </span>

				{% elif num > lists.number|add:'-4' and num < lists.number|add:'4' %}

				<a class="pagination-number" href="?page={{ num }}">{{ num }}</a>
				{% endif %}
				{% endfor %}

				{% if lists.has_next %}
				<a class="pagination-number" href="?page={{ lists.next_page_number }}">
					<i class="fa fa-angle-right"></i> </a>
				<a class="pagination-number" href="?page={{ lists.paginator.num_pages }}">
					<i class="fa fa-angle-double-right"></i> </a>
				{% endif %}

			</div>
		</div>
	</div>
</section>
{% endblock %}